{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ITCO\\\\Documents\\\\Personal\\\\Universidad\\\\TCU\\\\LibrosInteractivos\\\\webapp\\\\src\\\\components\\\\Simple\\\\Simple.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Spinner, Alert, Card, Form, Row, Col, Button } from 'react-bootstrap';\nimport FormInput from '../Forms/FormInput';\nimport './Simple.css';\nimport { API_BASE_URL } from '../../constants/apiContants';\n\nconst createInputState = (updateKey, label, value) => {\n  return {\n    updateKey,\n    label,\n    value\n  };\n};\n/* \r\n    Este componente EJEMPLO usa FORM de react-bootstrap para guardar con una llamada al servidor los datos que provee el usuario, \r\n    este ejemplo ademas usa un componente personalizado (FormInput) el cual es una adaptacion de los componentes que tiene \r\n    el componente Form de react-bootstrap. \r\n    Como se puede observar este componente Simple.js tiene su propio CSS, asi cada actividad puede tener sus propios estilos.\r\n*/\n\n\nfunction Simple(props) {\n  const [showMessageResult, setShowMessage] = useState(false);\n  const [message, setMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [state, setState] = useState({\n    username: createInputState('username', 'username', ''),\n    firstname: createInputState('firstname', 'firstname', ''),\n    lastname: createInputState('lastname', 'lastname', '')\n  });\n\n  const handleChange = e => {\n    const newState = { ...state[e.key],\n      value: e.value\n    };\n    setState({ ...state,\n      [e.key]: newState\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log('state ', state);\n    setShowMessage(false);\n    setMessage('');\n    setLoading(true);\n    const payload = {\n      \"username\": state.username.value,\n      'data': state\n    };\n    console.log('saving ', payload);\n    axios.post(API_BASE_URL + '/save', payload).then(function (response) {\n      if (response.status === 200) {\n        console.log('saved');\n      } else {\n        setShowMessage(true);\n        setMessage('Error');\n      }\n    }).catch(function (error) {\n      console.log(error);\n      setShowMessage(true);\n      setMessage('Error');\n    }).finally(() => {\n      setLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"simple-form m-auto p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    updateEvent: handleChange,\n    data: state.username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FormInput, {\n    updateEvent: handleChange,\n    data: state.firstname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FormInput, {\n    updateEvent: handleChange,\n    data: state.lastname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form.Row, {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"outline-primary\",\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, loading ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 44\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 37\n    }\n  }, \"Loading...\")) : 'Save'))), /*#__PURE__*/React.createElement(Alert, {\n    className: \"simple-message mt-5\",\n    variant: \"danger\",\n    dismissible: true,\n    show: showMessageResult,\n    onClick: () => setShowMessage(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Alert.Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, message)))));\n}\n\nexport default Simple;","map":{"version":3,"sources":["C:/Users/ITCO/Documents/Personal/Universidad/TCU/LibrosInteractivos/webapp/src/components/Simple/Simple.js"],"names":["React","useState","axios","Spinner","Alert","Card","Form","Row","Col","Button","FormInput","API_BASE_URL","createInputState","updateKey","label","value","Simple","props","showMessageResult","setShowMessage","message","setMessage","loading","setLoading","state","setState","username","firstname","lastname","handleChange","e","newState","key","handleSubmit","preventDefault","console","log","payload","post","then","response","status","catch","error","finally"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Spinner, Alert, Card, Form, Row, Col, Button } from 'react-bootstrap';\r\n\r\nimport FormInput from '../Forms/FormInput'\r\n\r\nimport './Simple.css';\r\nimport { API_BASE_URL } from '../../constants/apiContants';\r\n\r\nconst createInputState = (updateKey, label, value) => {\r\n    return {\r\n        updateKey,\r\n        label,\r\n        value\r\n    }\r\n}\r\n\r\n/* \r\n    Este componente EJEMPLO usa FORM de react-bootstrap para guardar con una llamada al servidor los datos que provee el usuario, \r\n    este ejemplo ademas usa un componente personalizado (FormInput) el cual es una adaptacion de los componentes que tiene \r\n    el componente Form de react-bootstrap. \r\n    Como se puede observar este componente Simple.js tiene su propio CSS, asi cada actividad puede tener sus propios estilos.\r\n*/\r\nfunction Simple(props) {\r\n    const [showMessageResult, setShowMessage] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [state, setState] = useState({\r\n        username: createInputState('username', 'username', ''),\r\n        firstname: createInputState('firstname', 'firstname', ''),\r\n        lastname: createInputState('lastname', 'lastname', '')\r\n    })\r\n    const handleChange = (e) => {        \r\n        const newState = {\r\n            ...state[e.key],\r\n            value: e.value\r\n        }\r\n\r\n        setState({\r\n            ...state,\r\n            [e.key]: newState\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        console.log('state ' , state)\r\n\r\n        setShowMessage(false)\r\n        setMessage('')\r\n        setLoading(true)\r\n\r\n        const payload = {\r\n            \"username\": state.username.value,\r\n            'data': state\r\n        }\r\n\r\n        console.log('saving ' , payload)\r\n        axios.post(API_BASE_URL + '/save', payload)\r\n            .then(function (response) {\r\n                if (response.status === 200) {                    \r\n                    console.log('saved')\r\n                }\r\n                else {\r\n                    setShowMessage(true)\r\n                    setMessage('Error')\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n                setShowMessage(true)\r\n                setMessage('Error')\r\n            })\r\n            .finally(() => {\r\n                setLoading(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Row>\r\n            <Col>\r\n                <Card className=\"simple-form m-auto p-5\">\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <FormInput updateEvent={handleChange} data={state.username}/> \r\n                        <FormInput updateEvent={handleChange} data={state.firstname}/> \r\n                        <FormInput updateEvent={handleChange} data={state.lastname}/>   \r\n\r\n                        <Form.Row className=\"justify-content-center\">\r\n                            <Button type=\"submit\" variant=\"outline-primary\" disabled={loading}>\r\n                                {loading ? <Spinner animation=\"border\" role=\"status\">\r\n                                    <span className=\"sr-only\">Loading...</span>\r\n                                </Spinner> :\r\n                                    'Save'}\r\n                            </Button>\r\n                        </Form.Row>\r\n                    </Form>\r\n                    <Alert className=\"simple-message mt-5\" variant=\"danger\" dismissible show={showMessageResult} onClick={() => setShowMessage(false)}>\r\n                        <Alert.Heading>{message}</Alert.Heading>\r\n                    </Alert>\r\n                </Card>\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default Simple;"]},"metadata":{},"sourceType":"module"}