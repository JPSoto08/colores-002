{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ITCO\\\\Documents\\\\Personal\\\\Universidad\\\\TCU\\\\LibrosInteractivos\\\\webapp\\\\src\\\\components\\\\Home\\\\Home.js\";\nimport React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route, useRouteMatch } from \"react-router-dom\";\nimport { withRouter } from 'react-router-dom';\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiContants';\nimport Header from '../Header/Header';\nimport Simple from '../Simple/Simple';\nimport Advance from '../Advance/Advance';\nimport ListExample from '../ListExample/ListExample';\nimport axios from 'axios';\n/* \r\n    Esta es la pagina Home de la aplicacion, en la misma se encuentra un componente Header con un Switch que hace mostrar el componente en \r\n    la pagina que elija el usuario\r\n*/\n\nfunction Home(props) {\n  const {\n    path\n  } = useRouteMatch(); //Esta llamada al servidor verifica que el usuario este loggeado para ingresar a cualquier ruta del app\n\n  useEffect(() => {\n    axios.get(API_BASE_URL + '/user/me', {\n      headers: {\n        'Authorization': localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(function (response) {\n      if (response.status !== 200) {\n        redirectToLogin();\n      }\n    }).catch(function (error) {\n      redirectToLogin();\n    });\n  });\n\n  function redirectToLogin() {\n    props.history.push('/login');\n  }\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    history: props.history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: path,\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ListExample, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: '/simple',\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Simple, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: '/advance',\n    exact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Advance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  })))));\n}\n\nexport default withRouter(Home);","map":{"version":3,"sources":["C:/Users/ITCO/Documents/Personal/Universidad/TCU/LibrosInteractivos/webapp/src/components/Home/Home.js"],"names":["React","useEffect","BrowserRouter","Router","Switch","Route","useRouteMatch","withRouter","ACCESS_TOKEN_NAME","API_BASE_URL","Header","Simple","Advance","ListExample","axios","Home","props","path","get","headers","localStorage","getItem","then","response","status","redirectToLogin","catch","error","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACIC,aAAa,IAAIC,MADrB,EAEIC,MAFJ,EAGIC,KAHJ,EAIIC,aAJJ,QAKO,kBALP;AAOA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,6BAAhD;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;;;;;AAIA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACjB,QAAM;AAAEC,IAAAA;AAAF,MAAWX,aAAa,EAA9B,CADiB,CAEjB;;AACAL,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,KAAK,CAACI,GAAN,CAAUT,YAAY,GAAG,UAAzB,EAAqC;AAAEU,MAAAA,OAAO,EAAE;AAAE,yBAAiBC,YAAY,CAACC,OAAb,CAAqBb,iBAArB;AAAnB;AAAX,KAArC,EACKc,IADL,CACU,UAAUC,QAAV,EAAoB;AACtB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBC,QAAAA,eAAe;AAClB;AACJ,KALL,EAMKC,KANL,CAMW,UAAUC,KAAV,EAAiB;AACpBF,MAAAA,eAAe;AAClB,KARL;AASH,GAVQ,CAAT;;AAWA,WAASA,eAAT,GAA2B;AACvBT,IAAAA,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACH;;AACD,sBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEb,KAAK,CAACY,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAEX,IAAb;AAAmB,IAAA,KAAK,EAAE,IAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,SAAb;AAAwB,IAAA,KAAK,EAAE,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,eAOI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAE,UAAb;AAAyB,IAAA,KAAK,EAAE,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAPJ,CAFJ,CADJ,CADJ;AAkBH;;AAED,eAAeV,UAAU,CAACQ,IAAD,CAAzB","sourcesContent":["import React, { useEffect } from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    useRouteMatch\r\n} from \"react-router-dom\";\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiContants';\r\nimport Header from '../Header/Header';\r\nimport Simple from '../Simple/Simple';\r\nimport Advance from '../Advance/Advance';\r\nimport ListExample from '../ListExample/ListExample';\r\nimport axios from 'axios'\r\n\r\n/* \r\n    Esta es la pagina Home de la aplicacion, en la misma se encuentra un componente Header con un Switch que hace mostrar el componente en \r\n    la pagina que elija el usuario\r\n*/\r\nfunction Home(props) {\r\n    const { path } = useRouteMatch();\r\n    //Esta llamada al servidor verifica que el usuario este loggeado para ingresar a cualquier ruta del app\r\n    useEffect(() => {\r\n        axios.get(API_BASE_URL + '/user/me', { headers: { 'Authorization': localStorage.getItem(ACCESS_TOKEN_NAME) } })\r\n            .then(function (response) {\r\n                if (response.status !== 200) {\r\n                    redirectToLogin()\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                redirectToLogin()\r\n            });\r\n    })\r\n    function redirectToLogin() {\r\n        props.history.push('/login');\r\n    }\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <Header history={props.history}/>\r\n                <Switch>\r\n                    <Route path={path} exact={true}>\r\n                        <ListExample />\r\n                    </Route>\r\n                    <Route path={'/simple'} exact={true}>\r\n                        <Simple />\r\n                    </Route>\r\n                    <Route path={'/advance'} exact={true}>\r\n                        <Advance />\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default withRouter(Home);"]},"metadata":{},"sourceType":"module"}