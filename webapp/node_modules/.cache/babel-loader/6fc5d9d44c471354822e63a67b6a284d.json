{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ITCO\\\\Documents\\\\Personal\\\\Universidad\\\\tcu\\\\LibrosInteractivos\\\\webapp\\\\src\\\\components\\\\Advance\\\\Search.js\";\nimport React, { useState } from 'react';\nimport { Form, Button, Alert, Spinner } from 'react-bootstrap';\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiContants';\nimport axios from 'axios';\nimport './Search.css';\n\nconst ProductSearch = ({\n  productFound\n}) => {\n  const [showSearchMessageResult, setShowSearchMessage] = useState(false);\n  const [searchMessage, setSearchMessage] = useState('');\n  const [searchingProduct, setSearchingProduct] = useState(false);\n  const [state, updateState] = useState({\n    category: 'Cat1',\n    sku: ''\n  });\n\n  const onChange = e => {\n    const {\n      id,\n      value\n    } = e.target;\n    updateState({ ...state,\n      [id]: value\n    });\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    setSearchingProduct(true);\n    setSearchMessage('');\n    setShowSearchMessage(false);\n    axios.get(API_BASE_URL + `/search/${state.sku}`, {\n      headers: {\n        'Authorization': localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(response => {\n      if (response.status === 200) {\n        productFound(response.data);\n      } else {\n        setSearchMessage(`Product ${state.sku} not found`);\n        setShowSearchMessage(true);\n      }\n    }).catch(error => {\n      console.error(error);\n      const errorMessage = error.response.status === 404 ? `Product ${state.sku} not found` : 'An error occurred while searching product';\n      setShowSearchMessage(true);\n      setSearchMessage(errorMessage);\n    }).finally(() => {\n      setSearchingProduct(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n    className: \"product-search-message\",\n    variant: \"danger\",\n    dismissible: true,\n    show: showSearchMessageResult,\n    onClick: () => setShowSearchMessage(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Alert.Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, searchMessage)), /*#__PURE__*/React.createElement(Form, {\n    inline: true,\n    onSubmit: onFormSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"my-1 mr-2\",\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    className: \"my-1 mr-sm-2\",\n    id: \"category\",\n    custom: true,\n    value: state.category,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"CAT1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"CAT1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"CAT2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, \"CAT2\")), /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"Sku\"), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"mr-2\",\n    id: \"sku\",\n    required: true,\n    placeholder: \"Sku\",\n    value: state.sku,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"outline-info\",\n    disabled: searchingProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, searchingProduct ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \"Loading...\")) : 'Search')));\n};\n\nexport default ProductSearch;","map":{"version":3,"sources":["C:/Users/ITCO/Documents/Personal/Universidad/tcu/LibrosInteractivos/webapp/src/components/Advance/Search.js"],"names":["React","useState","Form","Button","Alert","Spinner","ACCESS_TOKEN_NAME","API_BASE_URL","axios","ProductSearch","productFound","showSearchMessageResult","setShowSearchMessage","searchMessage","setSearchMessage","searchingProduct","setSearchingProduct","state","updateState","category","sku","onChange","e","id","value","target","onFormSubmit","preventDefault","get","headers","localStorage","getItem","then","response","status","data","catch","error","console","errorMessage","finally"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Button, Alert, Spinner } from 'react-bootstrap';\r\n\r\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiContants';\r\n\r\nimport axios from 'axios'\r\n\r\nimport './Search.css'\r\n\r\nconst ProductSearch = ({ productFound }) => {\r\n    const [showSearchMessageResult, setShowSearchMessage] = useState(false)\r\n    const [searchMessage, setSearchMessage] = useState('')\r\n    const [searchingProduct, setSearchingProduct] = useState(false)\r\n    const [state, updateState] = useState({\r\n        category: 'Cat1',\r\n        sku: ''\r\n    })\r\n\r\n    const onChange = (e) => {\r\n        const { id, value } = e.target\r\n        updateState({\r\n            ...state,\r\n            [id]: value\r\n        })\r\n    }\r\n\r\n    const onFormSubmit = (e) => {\r\n        e.preventDefault()\r\n        setSearchingProduct(true)\r\n        setSearchMessage('')\r\n        setShowSearchMessage(false)\r\n        axios.get(API_BASE_URL + `/search/${state.sku}`, { headers: { 'Authorization': localStorage.getItem(ACCESS_TOKEN_NAME) } })\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    productFound(response.data)\r\n                } else {\r\n                    setSearchMessage(`Product ${state.sku} not found`)\r\n                    setShowSearchMessage(true)\r\n                }\r\n            })\r\n            .catch((error) => {                \r\n                console.error(error)\r\n                const errorMessage = error.response.status === 404 ? `Product ${state.sku} not found` : 'An error occurred while searching product'\r\n                setShowSearchMessage(true)\r\n                setSearchMessage(errorMessage)\r\n            }).finally(() => {\r\n                setSearchingProduct(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Alert className=\"product-search-message\" variant=\"danger\" dismissible show={showSearchMessageResult} onClick={() => setShowSearchMessage(false)}>\r\n                <Alert.Heading>{searchMessage}</Alert.Heading>\r\n            </Alert>\r\n\r\n            <Form inline onSubmit={onFormSubmit}>\r\n                <Form.Label className=\"my-1 mr-2\" htmlFor=\"category\">\r\n                    Category\r\n                </Form.Label>\r\n                <Form.Control\r\n                    as=\"select\"\r\n                    className=\"my-1 mr-sm-2\"\r\n                    id=\"category\"\r\n                    custom\r\n                    value={state.category}\r\n                    onChange={onChange}\r\n                >\r\n                    <option value=\"CAT1\">CAT1</option>\r\n                    <option value=\"CAT2\">CAT2</option>\r\n                </Form.Control>\r\n                <Form.Label className=\"mr-2\">Sku</Form.Label>\r\n                <Form.Control className=\"mr-2\"\r\n                    id='sku'\r\n                    required\r\n                    placeholder=\"Sku\"\r\n                    value={state.sku}\r\n                    onChange={onChange}\r\n                />\r\n                <Button type=\"submit\" variant=\"outline-info\" disabled={searchingProduct}>\r\n                    {searchingProduct ? <Spinner animation=\"border\" role=\"status\">\r\n                        <span className=\"sr-only\">Loading...</span>\r\n                    </Spinner> :\r\n                        'Search'}\r\n                </Button>\r\n            </Form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductSearch"]},"metadata":{},"sourceType":"module"}