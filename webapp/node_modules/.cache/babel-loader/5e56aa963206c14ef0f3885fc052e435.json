{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ITCO\\\\Documents\\\\Personal\\\\Universidad\\\\tcu\\\\LibrosInteractivos\\\\webapp\\\\src\\\\components\\\\Advance\\\\Advance.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Alert, Spinner, Container, Form, Col, Button } from 'react-bootstrap';\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiContants';\nimport './Advance.css';\nimport Search from './Search';\nimport FormGroup from '../Forms/FormGroup';\n\nconst createPrice = () => {\n  return {\n    tax: {\n      updateKey: 'tax',\n      label: 'Tax',\n      value: 0\n    },\n    shipping: {\n      updateKey: 'shipping',\n      label: 'Shipping',\n      value: 0\n    },\n    savings: {\n      updateKey: 'savings',\n      label: 'Savings',\n      value: 0\n    },\n    value: {\n      updateKey: 'value',\n      label: 'Price',\n      value: 0\n    }\n  };\n};\n/* \r\n    Este componente EJEMPLO es una version avanzada que usa FORM de react-bootstrap para guardar con una llamada al servidor \r\n    los datos que provee el usuario, este ejemplo ademas usa un componente personalizado (FormGroup) el cual es una adaptacion \r\n    de los componentes que tiene el componente Form de react-bootstrap. \r\n    Ademas este ejemplo maneja eventos mas avanzados como referencia para posibles implementaciones en las actividades.\r\n*/\n\n\nfunction Advance(props) {\n  const [showSaveMessageResult, setShowSaveMessage] = useState(false);\n  const [saveMessage, setSaveMessage] = useState('');\n  const [savingProduct, setSavingProduct] = useState(false);\n  const [productState, setProductState] = useState({\n    productInfo: {\n      name: {\n        updateKey: 'name',\n        label: 'Name',\n        value: ''\n      },\n      sku: {\n        updateKey: 'sku',\n        label: 'Sku',\n        value: ''\n      },\n      description: {\n        updateKey: 'description',\n        label: 'Description',\n        value: ''\n      }\n    },\n    retailPrice: createPrice(),\n    employeePrice: createPrice()\n  });\n\n  const changeProductState = ({\n    groupKey,\n    inputData\n  }) => {\n    const productGroup = productState[groupKey];\n    productGroup[inputData.key]['value'] = inputData.value;\n    setProductState({ ...productState,\n      [groupKey]: { ...productGroup\n      }\n    });\n  };\n\n  const updateStateUsingKeys = (groupKey, data, keys) => {\n    keys.forEach(key => {\n      changeProductState({\n        groupKey,\n        inputData: {\n          key,\n          value: data[key]\n        }\n      });\n    });\n  };\n\n  const onProductFound = product => {\n    console.log('product found ', product);\n    updateStateUsingKeys('productInfo', product.productInfo, Object.keys(product.productInfo));\n    updateStateUsingKeys('retailPrice', product.retailPrice, Object.keys(product.retailPrice));\n    updateStateUsingKeys('employeePrice', product.employeePrice, Object.keys(product.employeePrice));\n  };\n\n  const handleSubmit = e => {\n    console.log('saving ', productState);\n    e.preventDefault();\n    setSavingProduct(true);\n    setSaveMessage('');\n    setShowSaveMessage(false);\n    axios.post(API_BASE_URL + `/save/${productState.productInfo.sku.value}`, productState, {\n      headers: {\n        'Authorization': localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(response => {\n      if (response.status === 201) {\n        window.location.reload();\n      } else {\n        setSaveMessage(`Error saving product ${productState.productInfo.sku.value}`);\n        setShowSaveMessage(true);\n      }\n    }).catch(error => {\n      console.error(error);\n      setShowSaveMessage(true);\n      setSaveMessage(`Error saving product ${productState.productInfo.sku.value}`);\n    }).finally(() => {\n      setSavingProduct(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    className: \"save-message\",\n    variant: \"danger\",\n    dismissible: true,\n    show: showSaveMessageResult,\n    onClick: () => setShowSaveMessage(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Alert.Heading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, saveMessage)), /*#__PURE__*/React.createElement(Search, {\n    productFound: onProductFound,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    className: \"mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    title: \"Product Info\",\n    formGroupKey: \"productInfo\",\n    updateEvent: changeProductState,\n    data: productState.productInfo,\n    columns: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    title: \"Retail Pricing\",\n    formGroupKey: \"retailPrice\",\n    updateEvent: changeProductState,\n    data: productState.retailPrice,\n    columns: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    title: \"Employee Pricing\",\n    formGroupKey: \"employeePrice\",\n    updateEvent: changeProductState,\n    data: productState.employeePrice,\n    columns: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Row, {\n    className: \"mt-3 justify-content-center\",\n    disabled: savingProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    variant: \"outline-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, savingProduct ? /*#__PURE__*/React.createElement(Spinner, {\n    animation: \"border\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, \"Loading...\")) : 'Save'))));\n}\n\nexport default Advance;","map":{"version":3,"sources":["C:/Users/ITCO/Documents/Personal/Universidad/tcu/LibrosInteractivos/webapp/src/components/Advance/Advance.js"],"names":["React","useState","axios","Alert","Spinner","Container","Form","Col","Button","ACCESS_TOKEN_NAME","API_BASE_URL","Search","FormGroup","createPrice","tax","updateKey","label","value","shipping","savings","Advance","props","showSaveMessageResult","setShowSaveMessage","saveMessage","setSaveMessage","savingProduct","setSavingProduct","productState","setProductState","productInfo","name","sku","description","retailPrice","employeePrice","changeProductState","groupKey","inputData","productGroup","key","updateStateUsingKeys","data","keys","forEach","onProductFound","product","console","log","Object","handleSubmit","e","preventDefault","post","headers","localStorage","getItem","then","response","status","window","location","reload","catch","error","finally"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Alert, Spinner, Container, Form, Col, Button } from 'react-bootstrap';\r\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiContants'\r\nimport './Advance.css'\r\n\r\nimport Search from './Search'\r\nimport FormGroup from '../Forms/FormGroup'\r\n\r\nconst createPrice = () => {\r\n    return {\r\n        tax: {\r\n            updateKey: 'tax',\r\n            label: 'Tax',\r\n            value: 0\r\n        },\r\n        shipping: {\r\n            updateKey: 'shipping',\r\n            label: 'Shipping',\r\n            value: 0\r\n        },\r\n        savings: {\r\n            updateKey: 'savings',\r\n            label: 'Savings',\r\n            value: 0\r\n        },\r\n        value: {\r\n            updateKey: 'value',\r\n            label: 'Price',\r\n            value: 0\r\n        }\r\n    }\r\n}\r\n\r\n/* \r\n    Este componente EJEMPLO es una version avanzada que usa FORM de react-bootstrap para guardar con una llamada al servidor \r\n    los datos que provee el usuario, este ejemplo ademas usa un componente personalizado (FormGroup) el cual es una adaptacion \r\n    de los componentes que tiene el componente Form de react-bootstrap. \r\n    Ademas este ejemplo maneja eventos mas avanzados como referencia para posibles implementaciones en las actividades.\r\n*/\r\nfunction Advance(props) {\r\n    const [showSaveMessageResult, setShowSaveMessage] = useState(false)\r\n    const [saveMessage, setSaveMessage] = useState('')\r\n    const [savingProduct, setSavingProduct] = useState(false)\r\n\r\n    const [productState, setProductState] = useState({        \r\n        productInfo: {\r\n            name: {\r\n                updateKey: 'name',\r\n                label: 'Name',\r\n                value: ''\r\n            },\r\n            sku: {\r\n                updateKey: 'sku',\r\n                label: 'Sku',\r\n                value: ''\r\n            },\r\n            description: {\r\n                updateKey: 'description',\r\n                label: 'Description',\r\n                value: ''\r\n            }\r\n        },\r\n        retailPrice: createPrice(),\r\n        employeePrice: createPrice(),        \r\n    })\r\n\r\n    const changeProductState = ({ groupKey, inputData }) => {        \r\n        const productGroup = productState[groupKey]\r\n        productGroup[inputData.key]['value'] = inputData.value\r\n\r\n        setProductState({\r\n            ...productState,\r\n            [groupKey]: {\r\n                ...productGroup\r\n            }\r\n        })\r\n    }\r\n\r\n    const updateStateUsingKeys = (groupKey, data, keys) => {        \r\n        keys.forEach(key => {\r\n            changeProductState({ groupKey, inputData: { key, value: data[key] } })\r\n        })\r\n    }\r\n\r\n    const onProductFound = (product) => {\r\n        console.log('product found ', product)\r\n\r\n        updateStateUsingKeys('productInfo', product.productInfo, Object.keys(product.productInfo))\r\n        updateStateUsingKeys('retailPrice', product.retailPrice, Object.keys(product.retailPrice))\r\n        updateStateUsingKeys('employeePrice', product.employeePrice, Object.keys(product.employeePrice))        \r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        console.log('saving ', productState)\r\n        e.preventDefault();\r\n        setSavingProduct(true)\r\n        setSaveMessage('')\r\n        setShowSaveMessage(false)        \r\n\r\n        axios.post(API_BASE_URL + `/save/${productState.productInfo.sku.value}`, productState, { headers: { 'Authorization': localStorage.getItem(ACCESS_TOKEN_NAME) } })\r\n            .then((response) => {\r\n                if (response.status === 201) {\r\n                    window.location.reload()\r\n                } else {\r\n                    setSaveMessage(`Error saving product ${productState.productInfo.sku.value}`)\r\n                    setShowSaveMessage(true)\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.error(error)\r\n                setShowSaveMessage(true)\r\n                setSaveMessage(`Error saving product ${productState.productInfo.sku.value}`)\r\n            }).finally(() => {\r\n                setSavingProduct(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Alert className=\"save-message\" variant=\"danger\" dismissible show={showSaveMessageResult} onClick={() => setShowSaveMessage(false)}>\r\n                <Alert.Heading>{saveMessage}</Alert.Heading>\r\n            </Alert>\r\n            <Search productFound={onProductFound} />\r\n            <Form onSubmit={handleSubmit}>\r\n                <Form.Row className=\"mt-2\">\r\n                    <Col md={4}>\r\n                        <FormGroup title={\"Product Info\"} formGroupKey={\"productInfo\"} updateEvent={changeProductState} data={productState.productInfo} columns={2} />\r\n                    </Col>\r\n                    <Col md={4}>\r\n                        <FormGroup title={\"Retail Pricing\"} formGroupKey={\"retailPrice\"} updateEvent={changeProductState} data={productState.retailPrice} columns={2} />\r\n                    </Col>\r\n                    <Col md={4}>\r\n                        <FormGroup title={\"Employee Pricing\"} formGroupKey={\"employeePrice\"} updateEvent={changeProductState} data={productState.employeePrice} columns={2} />\r\n                    </Col>                                        \r\n                </Form.Row>                \r\n                <Form.Row className=\"mt-3 justify-content-center\" disabled={savingProduct}>\r\n                    <Button type=\"submit\" variant=\"outline-primary\">\r\n                        {savingProduct ? <Spinner animation=\"border\" role=\"status\">\r\n                            <span className=\"sr-only\">Loading...</span>\r\n                        </Spinner> :\r\n                            'Save'}\r\n                    </Button>\r\n                </Form.Row>\r\n            </Form>\r\n\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Advance;"]},"metadata":{},"sourceType":"module"}